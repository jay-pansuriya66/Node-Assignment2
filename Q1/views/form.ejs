<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <h1>User Registration</h1>

    <% if (Object.keys(errors).length || Object.keys(fileErrors).length) { %>
      <div class="alert alert-error">
        <strong>Please fix the errors below.</strong>
      </div>
    <% } %>

    <form action="/register" method="post" enctype="multipart/form-data" novalidate>
      <div class="form-row">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" value="<%= data.username %>" />
        <% if (errors.username) { %><div class="error"><%= errors.username %></div><% } %>
      </div>

      <div class="form-row">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="<%= data.email %>" />
        <% if (errors.email) { %><div class="error"><%= errors.email %></div><% } %>
      </div>

      <div class="form-row">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" />
        <% if (errors.password) { %><div class="error"><%= errors.password %></div><% } %>
      </div>

      <div class="form-row">
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" id="confirmPassword" name="confirmPassword" />
        <% if (errors.confirmPassword) { %><div class="error"><%= errors.confirmPassword %></div><% } %>
      </div>

      <div class="form-row">
        <label>Gender</label>
        <div class="inline">
          <label><input type="radio" name="gender" value="male" <%= data.gender === 'male' ? 'checked' : '' %> /> Male</label>
          <label><input type="radio" name="gender" value="female" <%= data.gender === 'female' ? 'checked' : '' %> /> Female</label>
          <label><input type="radio" name="gender" value="other" <%= data.gender === 'other' ? 'checked' : '' %> /> Other</label>
        </div>
        <% if (errors.gender) { %><div class="error"><%= errors.gender %></div><% } %>
      </div>

      <div class="form-row">
        <label>Hobbies</label>
        <div class="inline">
          <label><input type="checkbox" name="hobbies" value="reading" <%= data.hobbies.includes('reading') ? 'checked' : '' %> /> Reading</label>
          <label><input type="checkbox" name="hobbies" value="sports" <%= data.hobbies.includes('sports') ? 'checked' : '' %> /> Sports</label>
          <label><input type="checkbox" name="hobbies" value="music" <%= data.hobbies.includes('music') ? 'checked' : '' %> /> Music</label>
          <label><input type="checkbox" name="hobbies" value="travel" <%= data.hobbies.includes('travel') ? 'checked' : '' %> /> Travel</label>
        </div>
        <% if (errors.hobbies) { %><div class="error"><%= errors.hobbies %></div><% } %>
      </div>

      <div class="form-row">
        <label for="profilePic">Profile Picture (single image)</label>
        <input type="file" id="profilePic" name="profilePic" accept="image/*" />
        <% if (fileErrors.profilePic) { %><div class="error"><%= fileErrors.profilePic %></div><% } %>
      </div>

      <div class="form-row">
        <label for="otherPics">Other Pictures (multiple images)</label>
        <input type="file" id="otherPics" name="otherPics" accept="image/*" multiple />
        <% if (fileErrors.otherPics) { %><div class="error"><%= fileErrors.otherPics %></div><% } %>
      </div>

      <div class="form-row">
        <button type="submit">Submit</button>
        <button type="reset" class="secondary">Reset</button>
      </div>
    </form>
  </div>
</body>
</html>
